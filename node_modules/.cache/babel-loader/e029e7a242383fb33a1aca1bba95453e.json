{"ast":null,"code":"import _classCallCheck from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Tabs,Tab}from'react-bootstrap';import Spinner from'./Spinner';import{exchangeSelector,tokenSelector,accountSelector,web3Selector,buyOrderSelector,sellOrderSelector}from'../store/selectors';import{buyOrderAmountChanged,buyOrderPriceChanged,sellOrderAmountChanged,sellOrderPriceChanged}from'../store/actions';import{makeBuyOrder,makeSellOrder}from'../store/interactions';var showForm=function showForm(props){var dispatch=props.dispatch,buyOrder=props.buyOrder,exchange=props.exchange,token=props.token,web3=props.web3,account=props.account,sellOrder=props.sellOrder,showBuyTotal=props.showBuyTotal,showSellTotal=props.showSellTotal;return/*#__PURE__*/React.createElement(Tabs,{defaultActiveKey:\"buy\",className:\"bg-dark text-white\"},/*#__PURE__*/React.createElement(Tab,{eventKey:\"buy\",title:\"Buy\",className:\"bg-dark\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();makeBuyOrder(dispatch,exchange,token,web3,buyOrder,account);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group small\"},/*#__PURE__*/React.createElement(\"label\",null,\"Buy Amount (DAPP)\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-sm bg-dark text-white\",placeholder:\"Buy Amount\",onChange:function onChange(e){return dispatch(buyOrderAmountChanged(e.target.value));},required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group small\"},/*#__PURE__*/React.createElement(\"label\",null,\"Buy Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-sm bg-dark text-white\",placeholder:\"Buy Price\",onChange:function onChange(e){return dispatch(buyOrderPriceChanged(e.target.value));},required:true}))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-sm btn-block\"},\"Buy Order\"),showBuyTotal?/*#__PURE__*/React.createElement(\"small\",null,\"Total: \",buyOrder.amount*buyOrder.price,\" ETH\"):null)),/*#__PURE__*/React.createElement(Tab,{eventKey:\"sell\",title:\"Sell\",className:\"bg-dark\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();makeSellOrder(dispatch,exchange,token,web3,sellOrder,account);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group small\"},/*#__PURE__*/React.createElement(\"label\",null,\"Buy Sell (DAPP)\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-sm bg-dark text-white\",placeholder:\"Sell amount\",onChange:function onChange(e){return dispatch(sellOrderAmountChanged(e.target.value));},required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group small\"},/*#__PURE__*/React.createElement(\"label\",null,\"Sell Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-sm bg-dark text-white\",placeholder:\"Sell Price\",onChange:function onChange(e){return dispatch(sellOrderPriceChanged(e.target.value));},required:true}))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-sm btn-block\"},\"Sell Order\"),showSellTotal?/*#__PURE__*/React.createElement(\"small\",null,\"Total: \",sellOrder.amount*sellOrder.price,\" ETH\"):null)));};var NewOrder=/*#__PURE__*/function(_Component){_inherits(NewOrder,_Component);var _super=_createSuper(NewOrder);function NewOrder(){_classCallCheck(this,NewOrder);return _super.apply(this,arguments);}_createClass(NewOrder,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"card bg-dark text-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"New Order\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},this.props.showForm?showForm(this.props):/*#__PURE__*/React.createElement(Spinner,null)));}}]);return NewOrder;}(Component);function mapStateToProps(state){var buyOrder=buyOrderSelector(state);var sellOrder=sellOrderSelector(state);return{account:accountSelector(state),exchange:exchangeSelector(state),token:tokenSelector(state),web3:web3Selector(state),buyOrder:buyOrder,sellOrder:sellOrder,showForm:!buyOrder.making&&!sellOrder.making,showBuyTotal:buyOrder.amount&&buyOrder.price,showSellTotal:sellOrder.amount&&sellOrder.price};}export default connect(mapStateToProps)(NewOrder);","map":{"version":3,"sources":["/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/src/components/NewOrder.js"],"names":["React","Component","connect","Tabs","Tab","Spinner","exchangeSelector","tokenSelector","accountSelector","web3Selector","buyOrderSelector","sellOrderSelector","buyOrderAmountChanged","buyOrderPriceChanged","sellOrderAmountChanged","sellOrderPriceChanged","makeBuyOrder","makeSellOrder","showForm","props","dispatch","buyOrder","exchange","token","web3","account","sellOrder","showBuyTotal","showSellTotal","event","preventDefault","e","target","value","amount","price","NewOrder","mapStateToProps","state","making"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Tabs, Tab } from 'react-bootstrap'\nimport Spinner from './Spinner'\nimport {\n  exchangeSelector,\n  tokenSelector,\n  accountSelector,\n  web3Selector,\n  buyOrderSelector,\n  sellOrderSelector\n} from '../store/selectors'\nimport {\n  buyOrderAmountChanged,\n  buyOrderPriceChanged,\n  sellOrderAmountChanged,\n  sellOrderPriceChanged,\n} from '../store/actions'\nimport {\n  makeBuyOrder,\n  makeSellOrder\n} from '../store/interactions'\n\nconst showForm = (props) => {\n  const {\n    dispatch,\n    buyOrder,\n    exchange,\n    token,\n    web3,\n    account,\n    sellOrder,\n    showBuyTotal,\n    showSellTotal\n  } = props\n\n  return(\n    <Tabs defaultActiveKey=\"buy\" className=\"bg-dark text-white\">\n\n      <Tab eventKey=\"buy\" title=\"Buy\" className=\"bg-dark\">\n\n          <form onSubmit={(event) => {\n            event.preventDefault()\n            makeBuyOrder(dispatch, exchange, token, web3, buyOrder, account)\n          }}>\n          <div className=\"form-group small\">\n            <label>Buy Amount (DAPP)</label>\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                className=\"form-control form-control-sm bg-dark text-white\"\n                placeholder=\"Buy Amount\"\n                onChange={(e) => dispatch( buyOrderAmountChanged( e.target.value ) )}\n                required\n              />\n            </div>\n          </div>\n          <div className=\"form-group small\">\n            <label>Buy Price</label>\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                className=\"form-control form-control-sm bg-dark text-white\"\n                placeholder=\"Buy Price\"\n                onChange={(e) => dispatch( buyOrderPriceChanged( e.target.value ) )}\n                required\n              />\n            </div>\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary btn-sm btn-block\">Buy Order</button>\n          { showBuyTotal ? <small>Total: {buyOrder.amount * buyOrder.price} ETH</small> : null }\n        </form>\n\n      </Tab>\n\n      <Tab eventKey=\"sell\" title=\"Sell\" className=\"bg-dark\">\n\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          makeSellOrder(dispatch, exchange, token, web3, sellOrder, account)\n        }}>\n        <div className=\"form-group small\">\n          <label>Buy Sell (DAPP)</label>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              className=\"form-control form-control-sm bg-dark text-white\"\n              placeholder=\"Sell amount\"\n              onChange={(e) => dispatch( sellOrderAmountChanged( e.target.value ) )}\n              required\n            />\n          </div>\n        </div>\n        <div className=\"form-group small\">\n          <label>Sell Price</label>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              className=\"form-control form-control-sm bg-dark text-white\"\n              placeholder=\"Sell Price\"\n              onChange={(e) => dispatch( sellOrderPriceChanged( e.target.value ) )}\n              required\n            />\n          </div>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary btn-sm btn-block\">Sell Order</button>\n        { showSellTotal ? <small>Total: {sellOrder.amount * sellOrder.price} ETH</small> : null }\n      </form>\n\n      </Tab>\n    </Tabs>\n  )\n}\n\nclass NewOrder extends Component {\n\n  render() {\n    return (\n      <div className=\"card bg-dark text-white\">\n        <div className=\"card-header\">\n          New Order\n        </div>\n        <div className=\"card-body\">\n          {this.props.showForm ? showForm(this.props) : <Spinner />}\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const buyOrder = buyOrderSelector(state)\n  const sellOrder = sellOrderSelector(state)\n\n  return {\n    account: accountSelector(state),\n    exchange: exchangeSelector(state),\n    token: tokenSelector(state),\n    web3: web3Selector(state),\n    buyOrder,\n    sellOrder,\n    showForm: !buyOrder.making && !sellOrder.making,\n    showBuyTotal: buyOrder.amount && buyOrder.price,\n    showSellTotal: sellOrder.amount && sellOrder.price\n  }\n}\n\nexport default connect(mapStateToProps)(NewOrder)\n"]},"metadata":{},"sourceType":"module"}