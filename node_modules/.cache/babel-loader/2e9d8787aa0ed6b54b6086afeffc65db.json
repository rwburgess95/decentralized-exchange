{"ast":null,"code":"import _regeneratorRuntime from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import Navbar from'./Navbar';import Content from'./Content';import{connect}from'react-redux';import{loadWeb3,loadAccount,loadToken,loadExchange}from'../store/interactions';import{contractsLoadedSelector}from'../store/selectors';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"UNSAFE_componentWillMount\",value:function UNSAFE_componentWillMount(){this.loadBlockchainData(this.props.dispatch);}},{key:\"loadBlockchainData\",value:function(){var _loadBlockchainData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var web3,networkId,token,exchange;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return loadWeb3(dispatch);case 2:web3=_context.sent;_context.next=5;return web3.eth.net.getId();case 5:networkId=_context.sent;_context.next=8;return loadAccount(web3,dispatch);case 8:_context.next=10;return loadToken(web3,networkId,dispatch);case 10:token=_context.sent;if(token){_context.next=14;break;}window.alert('Token smart contract not detected on the current network. Please select another network with Metamask.');return _context.abrupt(\"return\");case 14:_context.next=16;return loadExchange(web3,networkId,dispatch);case 16:exchange=_context.sent;if(exchange){_context.next=20;break;}window.alert('Exchange smart contract not detected on the current network. Please select another network with Metamask.');return _context.abrupt(\"return\");case 20:case\"end\":return _context.stop();}}},_callee);}));function loadBlockchainData(_x){return _loadBlockchainData.apply(this,arguments);}return loadBlockchainData;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navbar,null),this.props.contractsLoaded?/*#__PURE__*/React.createElement(Content,null):/*#__PURE__*/React.createElement(\"div\",{className:\"content\"}));}}]);return App;}(Component);function mapStateToProps(state){return{contractsLoaded:contractsLoadedSelector(state)};}export default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/src/components/App.js"],"names":["React","Component","Navbar","Content","connect","loadWeb3","loadAccount","loadToken","loadExchange","contractsLoadedSelector","App","loadBlockchainData","props","dispatch","web3","eth","net","getId","networkId","token","window","alert","exchange","contractsLoaded","mapStateToProps","state"],"mappings":"+hCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OACEC,QADF,CAEEC,WAFF,CAGEC,SAHF,CAIEC,YAJF,KAKO,uBALP,CAMA,OAASC,uBAAT,KAAwC,oBAAxC,C,GAEMC,CAAAA,G,iOACJ,oCAA4B,CAC1B,KAAKC,kBAAL,CAAwB,KAAKC,KAAL,CAAWC,QAAnC,EACD,C,6HAED,iBAAyBA,QAAzB,0KACqBR,CAAAA,QAAQ,CAACQ,QAAD,CAD7B,QACQC,IADR,qCAE0BA,CAAAA,IAAI,CAACC,GAAL,CAASC,GAAT,CAAaC,KAAb,EAF1B,QAEQC,SAFR,qCAGQZ,CAAAA,WAAW,CAACQ,IAAD,CAAOD,QAAP,CAHnB,+BAIsBN,CAAAA,SAAS,CAACO,IAAD,CAAOI,SAAP,CAAkBL,QAAlB,CAJ/B,SAIQM,KAJR,kBAKMA,KALN,0BAMIC,MAAM,CAACC,KAAP,CAAa,wGAAb,EANJ,gEASyBb,CAAAA,YAAY,CAACM,IAAD,CAAOI,SAAP,CAAkBL,QAAlB,CATrC,SASQS,QATR,kBAUMA,QAVN,0BAWIF,MAAM,CAACC,KAAP,CAAa,2GAAb,EAXJ,wF,wIAgBA,iBAAS,CACP,mBACE,4CACE,oBAAC,MAAD,MADF,CAEI,KAAKT,KAAL,CAAWW,eAAX,cAA6B,oBAAC,OAAD,MAA7B,cAA2C,2BAAK,SAAS,CAAC,SAAf,EAF/C,CADF,CAMD,C,iBA5BetB,S,EA+BlB,QAASuB,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLF,eAAe,CAAEd,uBAAuB,CAACgB,KAAD,CADnC,CAAP,CAGD,CAED,cAAerB,CAAAA,OAAO,CAACoB,eAAD,CAAP,CAAyBd,GAAzB,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nimport Navbar from './Navbar'\nimport Content from './Content'\nimport { connect } from 'react-redux'\nimport {\n  loadWeb3,\n  loadAccount,\n  loadToken,\n  loadExchange\n} from '../store/interactions'\nimport { contractsLoadedSelector } from '../store/selectors'\n\nclass App extends Component {\n  UNSAFE_componentWillMount() {\n    this.loadBlockchainData(this.props.dispatch)\n  }\n\n  async loadBlockchainData(dispatch) {\n    const web3 = await loadWeb3(dispatch)\n    const networkId = await web3.eth.net.getId()\n    await loadAccount(web3, dispatch)\n    const token = await loadToken(web3, networkId, dispatch)\n    if(!token) {\n      window.alert('Token smart contract not detected on the current network. Please select another network with Metamask.')\n      return\n    }\n    const exchange = await loadExchange(web3, networkId, dispatch)\n    if(!exchange) {\n      window.alert('Exchange smart contract not detected on the current network. Please select another network with Metamask.')\n      return\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        { this.props.contractsLoaded ? <Content /> : <div className=\"content\"></div> }\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    contractsLoaded: contractsLoadedSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps)(App)\n"]},"metadata":{},"sourceType":"module"}