{"ast":null,"code":"import _classCallCheck from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{OverlayTrigger,Tooltip}from'react-bootstrap';import Spinner from'./Spinner';import{orderBookSelector,orderBookLoadedSelector,exchangeSelector,accountSelector,orderFillingSelector}from'../store/selectors';import{fillOrder}from'../store/interactions';var renderOrder=function renderOrder(order,props){var dispatch=props.dispatch,exchange=props.exchange,account=props.account;return/*#__PURE__*/React.createElement(OverlayTrigger,{key:order.id,placement:\"auto\",overlay:/*#__PURE__*/React.createElement(Tooltip,{id:order.id},\"Click here to \".concat(order.orderFillAction))},/*#__PURE__*/React.createElement(\"tr\",{key:order.id,className:\"order-book-order\",onClick:function onClick(e){return fillOrder(dispatch,exchange,order,account);}},/*#__PURE__*/React.createElement(\"td\",null,order.tokenAmount),/*#__PURE__*/React.createElement(\"td\",{className:\"text-\".concat(order.orderTypeClass)},order.tokenPrice),/*#__PURE__*/React.createElement(\"td\",null,order.etherAmount)));};var showOrderBook=function showOrderBook(props){var orderBook=props.orderBook;return/*#__PURE__*/React.createElement(\"tbody\",null,orderBook.sellOrders.map(function(order){return renderOrder(order,props);}),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"DAPP\"),/*#__PURE__*/React.createElement(\"th\",null,\"DAPP/ETH\"),/*#__PURE__*/React.createElement(\"th\",null,\"ETH\")),orderBook.buyOrders.map(function(order){return renderOrder(order,props);}));};var OrderBook=/*#__PURE__*/function(_Component){_inherits(OrderBook,_Component);var _super=_createSuper(OrderBook);function OrderBook(){_classCallCheck(this,OrderBook);return _super.apply(this,arguments);}_createClass(OrderBook,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"vertical\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card bg-dark text-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"Order Book\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body order-book\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-dark table-sm small\"},this.props.showOrderBook?showOrderBook(this.props):/*#__PURE__*/React.createElement(Spinner,{type:\"table\"})))));}}]);return OrderBook;}(Component);function mapStateToProps(state){var orderBookLoaded=orderBookLoadedSelector(state);var orderFilling=orderFillingSelector(state);return{orderBook:orderBookSelector(state),showOrderBook:orderBookLoaded&&!orderFilling,exchange:exchangeSelector(state),account:accountSelector(state)};}export default connect(mapStateToProps)(OrderBook);","map":{"version":3,"sources":["/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/src/components/OrderBook.js"],"names":["React","Component","connect","OverlayTrigger","Tooltip","Spinner","orderBookSelector","orderBookLoadedSelector","exchangeSelector","accountSelector","orderFillingSelector","fillOrder","renderOrder","order","props","dispatch","exchange","account","id","orderFillAction","e","tokenAmount","orderTypeClass","tokenPrice","etherAmount","showOrderBook","orderBook","sellOrders","map","buyOrders","OrderBook","mapStateToProps","state","orderBookLoaded","orderFilling"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport Spinner from './Spinner'\nimport {\n  orderBookSelector,\n  orderBookLoadedSelector,\n  exchangeSelector,\n  accountSelector,\n  orderFillingSelector\n} from '../store/selectors'\nimport { fillOrder } from '../store/interactions'\n\n\nconst renderOrder = (order, props) => {\n  const { dispatch, exchange, account } = props\n\n  return(\n    <OverlayTrigger\n      key={order.id}\n      placement='auto'\n      overlay={\n        <Tooltip id={order.id}>\n          {`Click here to ${order.orderFillAction}`}\n        </Tooltip>\n      }\n    >\n      <tr\n        key={order.id}\n        className=\"order-book-order\"\n        onClick={(e) => fillOrder(dispatch, exchange, order, account)}\n      >\n        <td>{order.tokenAmount}</td>\n        <td className={`text-${order.orderTypeClass}`}>{order.tokenPrice}</td>\n        <td>{order.etherAmount}</td>\n      </tr>\n    </OverlayTrigger>\n  )\n}\n\nconst showOrderBook = (props) => {\n  const { orderBook } = props\n\n  return(\n    <tbody>\n      {orderBook.sellOrders.map((order) => renderOrder(order, props))}\n      <tr>\n        <th>DAPP</th>\n        <th>DAPP/ETH</th>\n        <th>ETH</th>\n      </tr>\n      {orderBook.buyOrders.map((order) => renderOrder(order, props))}\n    </tbody>\n  )\n}\n\nclass OrderBook extends Component {\n  render() {\n    return (\n      <div className=\"vertical\">\n        <div className=\"card bg-dark text-white\">\n          <div className=\"card-header\">\n            Order Book\n          </div>\n          <div className=\"card-body order-book\">\n            <table className=\"table table-dark table-sm small\">\n              { this.props.showOrderBook ? showOrderBook(this.props) : <Spinner type='table' /> }\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  const orderBookLoaded = orderBookLoadedSelector(state)\n  const orderFilling = orderFillingSelector(state)\n\n  return {\n    orderBook: orderBookSelector(state),\n    showOrderBook: orderBookLoaded && !orderFilling,\n    exchange: exchangeSelector(state),\n    account: accountSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps)(OrderBook);\n"]},"metadata":{},"sourceType":"module"}