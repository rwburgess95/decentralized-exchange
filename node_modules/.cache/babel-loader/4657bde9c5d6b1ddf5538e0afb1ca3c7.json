{"ast":null,"code":"import _classCallCheck from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Tabs,Tab}from'react-bootstrap';import Spinner from'./Spinner';import{myFilledOrdersLoadedSelector,myFilledOrdersSelector,myOpenOrdersLoadedSelector,myOpenOrdersSelector,exchangeSelector,accountSelector,orderCancellingSelector}from'../store/selectors';import{cancelOrder}from'../store/interactions';var showMyFilledOrders=function showMyFilledOrders(props){var myFilledOrders=props.myFilledOrders;return/*#__PURE__*/React.createElement(\"tbody\",null,myFilledOrders.map(function(order){return/*#__PURE__*/React.createElement(\"tr\",{key:order.id},/*#__PURE__*/React.createElement(\"td\",{className:\"text-muted\"},order.formattedTimestamp),/*#__PURE__*/React.createElement(\"td\",{className:\"text-\".concat(order.orderTypeClass)},order.orderSign,order.tokenAmount),/*#__PURE__*/React.createElement(\"td\",{className:\"text-\".concat(order.orderTypeClass)},order.tokenPrice));}));};var showMyOpenOrders=function showMyOpenOrders(props){var myOpenOrders=props.myOpenOrders,dispatch=props.dispatch,exchange=props.exchange,account=props.account;return/*#__PURE__*/React.createElement(\"tbody\",null,myOpenOrders.map(function(order){return/*#__PURE__*/React.createElement(\"tr\",{key:order.id},/*#__PURE__*/React.createElement(\"td\",{className:\"text-\".concat(order.orderTypeClass)},order.tokenAmount),/*#__PURE__*/React.createElement(\"td\",{className:\"text-\".concat(order.orderTypeClass)},order.tokenPrice),/*#__PURE__*/React.createElement(\"td\",{className:\"text-muted cancel-order\",onClick:function onClick(e){cancelOrder(dispatch,exchange,order,account);}},\"X\"));}));};var MyTransactions=/*#__PURE__*/function(_Component){_inherits(MyTransactions,_Component);var _super=_createSuper(MyTransactions);function MyTransactions(){_classCallCheck(this,MyTransactions);return _super.apply(this,arguments);}_createClass(MyTransactions,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"card bg-dark text-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"My Transactions\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Tabs,{defaultActiveKey:\"trades\",className:\"bg-dark text-white\"},/*#__PURE__*/React.createElement(Tab,{eventKey:\"trades\",title:\"Trades\",className:\"bg-dark\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-dark table-sm small\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Time\"),/*#__PURE__*/React.createElement(\"th\",null,\"DAPP\"),/*#__PURE__*/React.createElement(\"th\",null,\"DAPP/ETH\"))),this.props.showMyFilledOrders?showMyFilledOrders(this.props):/*#__PURE__*/React.createElement(Spinner,{type:\"table\"}))),/*#__PURE__*/React.createElement(Tab,{eventKey:\"orders\",title:\"Orders\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-dark table-sm small\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Amount\"),/*#__PURE__*/React.createElement(\"th\",null,\"DAPP/ETH\"),/*#__PURE__*/React.createElement(\"th\",null,\"Cancel\"))),this.props.showMyOpenOrders?showMyOpenOrders(this.props):/*#__PURE__*/React.createElement(Spinner,{type:\"table\"}),\"              \")))));}}]);return MyTransactions;}(Component);function mapStateToProps(state){var myOpenOrdersLoaded=myOpenOrdersLoadedSelector(state);var orderCancelling=orderCancellingSelector(state);return{myFilledOrders:myFilledOrdersSelector(state),showMyFilledOrders:myFilledOrdersLoadedSelector(state),myOpenOrders:myOpenOrdersSelector(state),showMyOpenOrders:myOpenOrdersLoaded&&!orderCancelling,exchange:exchangeSelector(state),account:accountSelector(state)};}export default connect(mapStateToProps)(MyTransactions);","map":{"version":3,"sources":["/Users/raymondburgess/Dapps/blockchain-developer-bootcamp-v2/src/components/MyTransactions.js"],"names":["React","Component","connect","Tabs","Tab","Spinner","myFilledOrdersLoadedSelector","myFilledOrdersSelector","myOpenOrdersLoadedSelector","myOpenOrdersSelector","exchangeSelector","accountSelector","orderCancellingSelector","cancelOrder","showMyFilledOrders","props","myFilledOrders","map","order","id","formattedTimestamp","orderTypeClass","orderSign","tokenAmount","tokenPrice","showMyOpenOrders","myOpenOrders","dispatch","exchange","account","e","MyTransactions","mapStateToProps","state","myOpenOrdersLoaded","orderCancelling"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Tabs, Tab } from 'react-bootstrap'\nimport Spinner from './Spinner'\nimport {\n  myFilledOrdersLoadedSelector,\n  myFilledOrdersSelector,\n  myOpenOrdersLoadedSelector,\n  myOpenOrdersSelector,\n  exchangeSelector,\n  accountSelector,\n  orderCancellingSelector,\n} from '../store/selectors'\nimport {cancelOrder } from '../store/interactions'\n\nconst showMyFilledOrders = (props) => {\n  const { myFilledOrders } = props\n  return(\n    <tbody>\n      { myFilledOrders.map((order) => {\n        return (\n          <tr key={order.id}>\n            <td className=\"text-muted\">{order.formattedTimestamp}</td>\n            <td className={`text-${order.orderTypeClass}`}>{order.orderSign}{order.tokenAmount}</td>\n            <td className={`text-${order.orderTypeClass}`}>{order.tokenPrice}</td>\n          </tr>\n        )\n      }) }\n    </tbody>\n  )\n}\n\nconst showMyOpenOrders = (props) => {\n  const { myOpenOrders, dispatch, exchange, account} = props\n  return(\n    <tbody>\n      { myOpenOrders.map((order) => {\n        return (\n          <tr key={order.id}>\n            <td className={`text-${order.orderTypeClass}`}>{order.tokenAmount}</td>\n            <td className={`text-${order.orderTypeClass}`}>{order.tokenPrice}</td>\n            <td className=\"text-muted cancel-order\"\n                onClick={(e) => {\n                  cancelOrder(dispatch, exchange, order, account)\n                }}\n            >X</td>\n          </tr>\n        )\n      }) }\n    </tbody>\n  )\n}\n\nclass MyTransactions extends Component {\n  render() {\n    return (\n      <div className=\"card bg-dark text-white\">\n        <div className=\"card-header\">\n          My Transactions\n        </div>\n        <div className=\"card-body\">\n          <Tabs defaultActiveKey=\"trades\" className=\"bg-dark text-white\">\n            <Tab eventKey=\"trades\" title=\"Trades\" className=\"bg-dark\">\n              <table className=\"table table-dark table-sm small\">\n                <thead>\n                  <tr>\n                    <th>Time</th>\n                    <th>DAPP</th>\n                    <th>DAPP/ETH</th>\n                  </tr>\n                </thead>\n                { this.props.showMyFilledOrders ? showMyFilledOrders(this.props) : <Spinner type=\"table\" />}\n              </table>\n            </Tab>\n            <Tab eventKey=\"orders\" title=\"Orders\">\n              <table className=\"table table-dark table-sm small\">\n                <thead>\n                  <tr>\n                    <th>Amount</th>\n                    <th>DAPP/ETH</th>\n                    <th>Cancel</th>\n                  </tr>\n                </thead>\n                { this.props.showMyOpenOrders ? showMyOpenOrders(this.props) : <Spinner type=\"table\" />}              </table>\n            </Tab>\n          </Tabs>\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const myOpenOrdersLoaded = myOpenOrdersLoadedSelector(state)\n  const orderCancelling = orderCancellingSelector(state)\n\n  return {\n    myFilledOrders: myFilledOrdersSelector(state),\n    showMyFilledOrders: myFilledOrdersLoadedSelector(state),\n    myOpenOrders: myOpenOrdersSelector(state),\n    showMyOpenOrders: myOpenOrdersLoaded && !orderCancelling,\n    exchange: exchangeSelector(state),\n    account: accountSelector(state),\n\n  }\n}\n\nexport default connect(mapStateToProps)(MyTransactions);\n"]},"metadata":{},"sourceType":"module"}